"use strict";!function(){var t=document.querySelector(".cart"),e=t.querySelector("a"),n=document.querySelector(".cart__popup"),o=n.querySelector("button"),s=n.querySelector("ul"),i=n.querySelector("form").lastElementChild,d=!1,c={cartParent:"cart--opened",cartPopupOpened:"cart__popup--opened",cartPopupClosed:"cart__popup--closed"};function r(e,t,n){d||a(t,n)}function a(e,t){e.classList.toggle(c.cartParent),t.classList.toggle(c.cartPopupClosed),t.classList.toggle(c.cartPopupOpened)}t.addEventListener("mouseover",function(e){n.classList.add(c.cartPopupOpened),n.classList.remove(c.cartPopupClosed)}),t.addEventListener("mouseout",function(e){n.classList.remove(c.cartPopupOpened),n.classList.add(c.cartPopupClosed)}),e.addEventListener("keypress",function(e){32==e.keyCode&&(e.preventDefault(),a(t,n))}),o.addEventListener("click",function(e){if(!s.children.length)return e.preventDefault(),void a(t,n);a(t,n)}),o.addEventListener("keydown",function(e){if(32==e.keyCode){if(!s.children.length)return e.preventDefault(),void a(t,n);a(t,n)}}),document.addEventListener("keydown",function(e){27==e.keyCode&&t.classList.contains("cart--opened")&&a(t,n)}),document.addEventListener("mousedown",function(e){t.contains(e.target)||n.contains(e.target)||e.target===t||e.target===n||!t.classList.contains("cart--opened")||a(t,n)}),i.addEventListener("keydown",function(e){9===e.keyCode&&r(),16===e.keyCode&&(d=!0,document.addEventListener("keyup",function(e){document.removeEventListener("keyup",r),d=!1}))})}(),function(){var t=document.querySelector(".login"),e=t.querySelector("a"),n=document.querySelector(".login__popup"),o=n.querySelector("button"),s=n.querySelectorAll('input[type="text"]'),i="login--opened",d="login__popup--opened",c="login__popup--closed";function r(e,t){e.classList.toggle(i),t.classList.toggle(c),t.classList.toggle(d)}e.addEventListener("click",function(e){e.preventDefault(),r(t,n)}),e.addEventListener("keypress",function(e){32==e.keyCode&&(e.preventDefault(),r(t,n))}),o.addEventListener("click",function(e){if(!s.value)return e.preventDefault(),void r(t,n);r(t,n)}),o.addEventListener("keydown",function(e){if(32==e.keyCode){if(!s.value)return e.preventDefault(),void r(t,n);r(t,n)}}),document.addEventListener("keydown",function(e){27==e.keyCode&&t.classList.contains("login--opened")&&r(t,n)}),document.addEventListener("mousedown",function(e){t.contains(e.target)||n.contains(e.target)||e.target===t||e.target===n||!t.classList.contains("login--opened")||r(t,n)})}(),function(){var t=document.querySelector(".page-header__btn");t.classList.remove("page-header__btn--no-js");var e=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,n=o();function o(){return e<600?0:600}var s=[];function i(e){this.list=document.querySelector("."+e),this.listCloseClass=e+"--closed",this.openCloseNavList=function(){this.list.classList.toggle(this.listCloseClass)}}s.push(new i("site-list")),s.push(new i("user-list")),window.addEventListener("resize",function(){e=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,n=o()}),t.addEventListener("click",function(){for(var e=0;e<s.length;e++)s[e].openCloseNavList();t.classList.toggle("page-header__btn--open"),t.classList.toggle("page-header__btn--close"),console.log(n)})}(),function(){var t=document.querySelector(".dropdown__list"),e=(o=t.parentNode).firstElementChild,n=t.lastElementChild.firstElementChild,o=t.parentNode,s=!1;function i(){t.classList.toggle("dropdown__list--opened"),t.classList.toggle("dropdown__list--closed")}function d(e){s||i()}o.addEventListener("mouseover",function(){t.classList.add("dropdown__list--opened"),t.classList.remove("dropdown__list--closed")}),o.addEventListener("mouseout",function(){t.classList.remove("dropdown__list--opened"),t.classList.add("dropdown__list--closed")}),document.addEventListener("click",function(e){e.currentTarget==o&&e.target==o||!t.classList.contains("site-list__dropdown--opened")||i()},!0),n.addEventListener("keydown",function(e){9===e.keyCode&&d(),16===e.keyCode&&(s=!0,document.addEventListener("keyup",function(e){document.removeEventListener("keyup",d),s=!1}))}),e.addEventListener("keydown",function(e){13!==e.keyCode&&32!==e.keyCode||(e.preventDefault(),i())})}(),function(){var t=document.querySelector(".search"),e=t.querySelector("a"),n=document.querySelector(".search__popup"),o=n.querySelector("button"),s=n.querySelector("input"),i="search--opened",d="search__popup--opened",c="search__popup--closed";function r(e,t){e.classList.toggle(i),t.classList.toggle(c),t.classList.toggle(d)}e.addEventListener("click",function(e){e.preventDefault(),r(t,n)}),e.addEventListener("keypress",function(e){32==e.keyCode&&(e.preventDefault(),r(t,n))}),o.addEventListener("click",function(e){if(!s.value)return e.preventDefault(),void r(t,n);r(t,n)}),o.addEventListener("keydown",function(e){if(32==e.keyCode){if(!s.value)return e.preventDefault(),void r(t,n);r(t,n)}}),document.addEventListener("keydown",function(e){27==e.keyCode&&t.classList.contains("search--opened")&&r(t,n)}),document.addEventListener("mousedown",function(e){t.contains(e.target)||n.contains(e.target)||e.target===t||e.target===n||!t.classList.contains("search--opened")||r(t,n)})}();